include ../mixin/assets
include ../mixin/form
include ../mixin/menu
include ../mixin/meta

doctype html
html( class= htmlClasses, lang= app.lang )

  head
    meta( charset= "utf-8" )
    meta( name= "viewport", content= "width=device-width, initial-scale=1.0" )
    
    +appeal()
    +metadata( meta )
    +og( data )
    +preload( assets )
    +css( assets )
    +js( assets )


  body#top( class= bodyClasses || "__apm" )

    div#backdrop.__apm_backdrop

    header#header.__apm_header( role= "banner", aria-label= "Header" )
      div.__apm_header__inner
        div.__apm_header__left
          a.__apm_header__site_title( href= "/", title= alt = fn.i18n( 'app.generic:name' ), aria-label= "Site title" )
            object.__apm_header__site_logo( data= "assets/images/logo.svg", type= "image/svg+xml", aria-label= "Logo" )
              img( src= "assets/images/logo_256x256.png", alt= alt )
            object.__apm_header__site_wordmark( data= "assets/images/wordmark.svg", type= "image/svg+xml", aria-label= "Wordmark" )
              img( src= "assets/images/wordmark_256x27.png", alt= alt )

        div.__apm_header__center
          div.__apm_header__searchbar
            +searchbar( data )

        div.__apm_header__right
          div.__apm_header__actions
            div#__site_search.__apm_header__actions_item
              a.__apm_header__actions_button.___button( role= "button", tabindex= 0, title= fn.i18n( 'app.generic:search' ) )
                +icon( 'search' )
            div#__site_menu.__apm_header__actions_item
              a.__apm_header__actions_button.___button( role= "button", tabindex= 0, title= fn.i18n( 'app.generic:menu' ) )
                +icon( 'menu' )
              div.__apm_header__actions_app
                +menu( [
                  { href: '/', label: fn.i18n( 'app.menu:home' ) },
                  { href: '/airports', label: fn.i18n( 'app.menu:airports' ) },
                  { href: '/traffic', label: fn.i18n( 'app.menu:traffic' ) },
                  { href: '/weather', label: fn.i18n( 'app.menu:weather' ) },
                  { href: '/sigmets', label: fn.i18n( 'app.menu:sigmets' ) },
                  { href: '/about', label: fn.i18n( 'app.menu:about' ) },
                  { href: '/stats', label: fn.i18n( 'app.menu:stats' ) }
                ], { current: app.path } )
            div#__site_dasher.__apm_header__actions_item
              a.__apm_header__actions_button.___button( role= "button", tabindex= 0, title= fn.i18n( 'app.generic:dasher' ) )
                +icon( 'dasher' )
              div.__apm_header__actions_app

    main#main.__apm_main( role= "main", aria-label= "Content" )
      block content

    footer#footer.__apm_footer( role= "contentinfo", aria-label= "Footer" )
