@use '../abstract/mixin';
@use '../abstract/theme';
@use '../abstract/vars';
@use '../component/dashboard';
@use '../component/menu';
@use '../component/searchbar';

.__apm_header {
    @include mixin.prevent-select;
    @include mixin.sticky;
    @include mixin.border( 'light', $bottom: 1px );
    @include mixin.shadow-box;

    height: vars.get( 'header-height' );
    padding: 0 vars.get( 'padding-normal' );
    background: theme.get( 'bright' );
    z-index: 999;

    @include mixin.layout-max( 'mobile' ) {
        padding: 0 vars.get( 'padding-small' );
    }

}

.__apm_header__inner {
    @include mixin.flex-row( vars.get( 'padding-normal' ), space-between );
    @include mixin.max-width( 'content-wide' );
    @include mixin.full-sized();
}

.__apm_header__site_title {
    @include mixin.flex-row( 12px );

    object, image {
        @include mixin.prevent-events;
    }

    image {
        @include mixin.full-sized;
    }

}

.__apm_header__site_logo {
    @include mixin.ratio-height( vars.get( 'button-height' ) );
}

.__apm_header__site_wordmark {
    @include mixin.layout-max( 'wide' ) {
        display: none;
    }

    width: 200px;
}

.__apm_header__center {
    @include mixin.flex-full-sized;
    @include mixin.layout-max( 'normal' ) {
        display: none;
    }

    .__apm_header__searchbar {
        @include mixin.flex-center;
        @include mixin.full-sized;
    }

    .__apm_searchbar {
        max-width: 80%;
        min-width: 60%;
    }

}

.__apm_header__actions {
    @include mixin.flex-row( 12px, flex-end );
    @include mixin.layout-min( 'normal' ) {
        #__site_search { display: none; }
    }
}

.__apm_header__actions_item {
    position: relative;

    &.___toggle_active {

        .__apm_header__actions_button {
            @include mixin.outline;
        }

        .__apm_header__actions_app {
            display: block;
        }

    }

}

.__apm_header__actions_app {
    @include mixin.border( 'light', 1px );
    @include mixin.overflow-hidden;
    @include mixin.shadow-box;

    position: absolute;
    top: 100%;
    right: 0;
    display: none;
    margin-top: 8px;
    min-width: 260px;
    padding: 8px 0;
    background: theme.get( 'bright' );
    border-radius: vars.get( 'border-radius' );
    z-index: 1000;

    .__apm_searchbar {
        margin: 0 8px;
        width: calc( 100% - 16px );
    }

    @include mixin.layout-max( 'mobile' ) {
        @include mixin.fixed( calc( vars.get( 'header-height' ) + 4px ), 12px, 12px );

        width: calc( 100% - 26px );
        min-width: 0;
    }

}
