@use 'sass:color';
@use 'sass:map';

@function get( $name, $fb: null ) {
    @if map.has-key( $theme, $name ) {
        @return map.get( $theme, $name );
    } @else if $fb {
        @return $fb;
    } @else {
        @warn "Color '#{$name}' not found in current theme";
        @return null;
    }
}

@function light( $name, $amount: 10% ) {
    $color: get( $name );
    @if $color {
        @return color.lighten( $color, $amount );
    }
    @return null;
}

@function dark( $name, $amount: 10% ) {
    $color: get( $name );
    @if $color {
        @return color.darken( $color, $amount );
    }
    @return null;
}

@function alpha( $name, $alpha: 0.5 ) {
    $color: get( $name );
    @if $color {
        @return color.rgba( $color, $alpha );
    }
    @return null;
}

@mixin set( $property, $name, $fb: null ) {
    #{$property}: var(
        --color-#{$name},
        #{get( $name, $fb )}
    );
}
